<!DOCTYPE html>
<html lang="zh">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
<title>å…³äº SwiftUI çš„åˆæ­¥è®¤è¯† - Phillipçš„æŠ€æœ¯åšå®¢</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



    <meta name="description" content="SwiftUI å¯ä»¥åœ¨ä»»ä½• Apple çš„å¹³å°ä¸Šç”¨æ–°é¢–çš„æ–¹å¼å£°æ˜ç”¨æˆ·ç•Œé¢ï¼Œæ›´ç®€æ´å¿«é€Ÿçš„åˆ›å»ºåº”ç”¨ã€‚é€šè¿‡å‡ å¤©çš„ä½¿ç”¨ï¼Œå¤§æ¦‚å¯¹ SwiftUI æœ‰äº†ç®€å•çš„è®¤è¯†, ä¸‹é¢å°†ç®€å•ä»‹ç»ä¸‹ SwiftUI çš„ç‰¹ç‚¹ä¸ä½¿ç”¨å®ä¾‹ã€‚ Overviewå£°æ˜å¼çš„è¯­æ³•å£°æ˜å¼ç¼–ç¨‹ï¼ˆDeclarative programmingï¼‰æ˜¯ä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼Œä¸å‘½ä»¤å¼ç¼–ç¨‹ç›¸å¯¹ç«‹ã€‚ å®ƒæè¿°ç›®æ ‡çš„æ€§è´¨ï¼Œè®©è®¡ç®—æœºæ˜ç™½ç›®æ ‡ï¼Œè€Œéæµç¨‹ã€‚ å£°æ˜å¼ç¼–ç¨‹ä¸ç”¨å‘Šè¯‰">
<meta property="og:type" content="article">
<meta property="og:title" content="å…³äº SwiftUI çš„åˆæ­¥è®¤è¯†">
<meta property="og:url" content="http://yoursite.com/2019/06/24/ios-swiftui-first-look/index.html">
<meta property="og:site_name" content="Phillipçš„æŠ€æœ¯åšå®¢">
<meta property="og:description" content="SwiftUI å¯ä»¥åœ¨ä»»ä½• Apple çš„å¹³å°ä¸Šç”¨æ–°é¢–çš„æ–¹å¼å£°æ˜ç”¨æˆ·ç•Œé¢ï¼Œæ›´ç®€æ´å¿«é€Ÿçš„åˆ›å»ºåº”ç”¨ã€‚é€šè¿‡å‡ å¤©çš„ä½¿ç”¨ï¼Œå¤§æ¦‚å¯¹ SwiftUI æœ‰äº†ç®€å•çš„è®¤è¯†, ä¸‹é¢å°†ç®€å•ä»‹ç»ä¸‹ SwiftUI çš„ç‰¹ç‚¹ä¸ä½¿ç”¨å®ä¾‹ã€‚ Overviewå£°æ˜å¼çš„è¯­æ³•å£°æ˜å¼ç¼–ç¨‹ï¼ˆDeclarative programmingï¼‰æ˜¯ä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼Œä¸å‘½ä»¤å¼ç¼–ç¨‹ç›¸å¯¹ç«‹ã€‚ å®ƒæè¿°ç›®æ ‡çš„æ€§è´¨ï¼Œè®©è®¡ç®—æœºæ˜ç™½ç›®æ ‡ï¼Œè€Œéæµç¨‹ã€‚ å£°æ˜å¼ç¼–ç¨‹ä¸ç”¨å‘Šè¯‰">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://yoursite.com/images/og_image.png">
<meta property="og:updated_time" content="2019-06-30T12:42:10.162Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="å…³äº SwiftUI çš„åˆæ­¥è®¤è¯†">
<meta name="twitter:description" content="SwiftUI å¯ä»¥åœ¨ä»»ä½• Apple çš„å¹³å°ä¸Šç”¨æ–°é¢–çš„æ–¹å¼å£°æ˜ç”¨æˆ·ç•Œé¢ï¼Œæ›´ç®€æ´å¿«é€Ÿçš„åˆ›å»ºåº”ç”¨ã€‚é€šè¿‡å‡ å¤©çš„ä½¿ç”¨ï¼Œå¤§æ¦‚å¯¹ SwiftUI æœ‰äº†ç®€å•çš„è®¤è¯†, ä¸‹é¢å°†ç®€å•ä»‹ç»ä¸‹ SwiftUI çš„ç‰¹ç‚¹ä¸ä½¿ç”¨å®ä¾‹ã€‚ Overviewå£°æ˜å¼çš„è¯­æ³•å£°æ˜å¼ç¼–ç¨‹ï¼ˆDeclarative programmingï¼‰æ˜¯ä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼Œä¸å‘½ä»¤å¼ç¼–ç¨‹ç›¸å¯¹ç«‹ã€‚ å®ƒæè¿°ç›®æ ‡çš„æ€§è´¨ï¼Œè®©è®¡ç®—æœºæ˜ç™½ç›®æ ‡ï¼Œè€Œéæµç¨‹ã€‚ å£°æ˜å¼ç¼–ç¨‹ä¸ç”¨å‘Šè¯‰">
<meta name="twitter:image" content="http://yoursite.com/images/og_image.png">







<link rel="icon" href="/images/logo.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    

    
    
    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-1-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.svg" alt="å…³äº SwiftUI çš„åˆæ­¥è®¤è¯†" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/">Home</a>
                
                <a class="navbar-item" href="/archives">Archives</a>
                
                <a class="navbar-item" href="/categories">Categories</a>
                
                <a class="navbar-item" href="/tags">Tags</a>
                
                <a class="navbar-item" href="/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    
                    <a class="navbar-item" target="_blank" title="Download on GitHub" href="https://github.com/awind/">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="æœç´¢" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-12 has-order-2 column-main"><div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-06-24T13:12:04.000Z">2019-06-24</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Swift/">Swift</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    21 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 3157 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                å…³äº SwiftUI çš„åˆæ­¥è®¤è¯†
            
        </h1>
        <div class="content">
            <p>SwiftUI å¯ä»¥åœ¨ä»»ä½• Apple çš„å¹³å°ä¸Šç”¨æ–°é¢–çš„æ–¹å¼å£°æ˜ç”¨æˆ·ç•Œé¢ï¼Œæ›´ç®€æ´å¿«é€Ÿçš„åˆ›å»ºåº”ç”¨ã€‚é€šè¿‡å‡ å¤©çš„ä½¿ç”¨ï¼Œå¤§æ¦‚å¯¹ SwiftUI æœ‰äº†ç®€å•çš„è®¤è¯†, ä¸‹é¢å°†ç®€å•ä»‹ç»ä¸‹ SwiftUI çš„ç‰¹ç‚¹ä¸ä½¿ç”¨å®ä¾‹ã€‚</p>
<h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><h3 id="å£°æ˜å¼çš„è¯­æ³•"><a href="#å£°æ˜å¼çš„è¯­æ³•" class="headerlink" title="å£°æ˜å¼çš„è¯­æ³•"></a>å£°æ˜å¼çš„è¯­æ³•</h3><p>å£°æ˜å¼ç¼–ç¨‹ï¼ˆDeclarative programmingï¼‰æ˜¯ä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼Œä¸å‘½ä»¤å¼ç¼–ç¨‹ç›¸å¯¹ç«‹ã€‚ å®ƒæè¿°ç›®æ ‡çš„æ€§è´¨ï¼Œè®©è®¡ç®—æœºæ˜ç™½ç›®æ ‡ï¼Œè€Œéæµç¨‹ã€‚ å£°æ˜å¼ç¼–ç¨‹ä¸ç”¨å‘Šè¯‰è®¡ç®—æœºé—®é¢˜é¢†åŸŸï¼Œä»è€Œé¿å…éšä¹‹è€Œæ¥çš„å‰¯ä½œç”¨ã€‚ </p>
<p>è€Œå‘½ä»¤å¼ç¼–ç¨‹åˆ™éœ€è¦ç”¨ç®—æ³•æ¥æ˜ç¡®çš„æŒ‡å‡ºæ¯ä¸€æ­¥è¯¥æ€ä¹ˆåšã€‚</p>
<p>SwiftUI ä½¿ç”¨äº†å£°æ˜å¼çš„è¯­æ³•ï¼Œæ‰€ä»¥å¼€å‘è€…èƒ½å¤Ÿååˆ†è½»æ˜“åœ°æè¿°ç”¨æˆ·ç•Œé¢åº”è¯¥åšä»€ä¹ˆã€‚ä¾‹å¦‚ï¼Œç¼–å†™éœ€è¦åŒ…å«æ–‡æœ¬å­—æ®µçš„é¡¹ç›®åˆ—è¡¨æ—¶ï¼Œå¼€å‘è€…å¯ä»¥ç”¨ä»£ç æè¿°æ¯ä¸ªå­—æ®µçš„å¯¹é½æ–¹å¼ã€å­—ä½“å’Œé¢œè‰²ã€‚ä»£ç ä¹Ÿæ¯”ä»¥å‰æ›´ç®€å•ï¼Œæ›´æ˜“äºé˜…è¯»ã€‚è€Œ SwiftUI ä¼šæ ¹æ®çŠ¶æ€çš„å˜åŒ–æ¥é‡æ–°æ¸²æŸ“ç›¸åŒ¹é…çš„è§†å›¾ã€‚</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-type">List</span>(landmarks) &#123; landmark <span class="hljs-keyword">in</span></span><br><span class="line">   <span class="hljs-type">HStack</span> &#123;</span><br><span class="line">      <span class="hljs-type">Image</span>(landmark.thumbnail)</span><br><span class="line">      <span class="hljs-type">Text</span>(landmark.name)</span><br><span class="line">      <span class="hljs-type">Spacer</span>()</span><br><span class="line">      </span><br><span class="line">      <span class="hljs-keyword">if</span> landmark.isFavorite &#123;</span><br><span class="line">         <span class="hljs-type">Image</span>(systemName: <span class="hljs-string">"star.fill"</span>)</span><br><span class="line">            .foregroundColor(.yellow)</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p><img src="https://docs-assets.developer.apple.com/published/ce3a0b9890/c72f088f-5be9-46ad-9245-1cf8b4c735a0.png" alt="describe_ui"></p>
<h3 id="å¯é‡ç”¨çš„ç»„ä»¶"><a href="#å¯é‡ç”¨çš„ç»„ä»¶" class="headerlink" title="å¯é‡ç”¨çš„ç»„ä»¶"></a>å¯é‡ç”¨çš„ç»„ä»¶</h3><p>å¤æ‚çš„ç•Œé¢æ˜¯ç”±è½»é‡çš„å•ä¸€èŒè´£çš„è§†å›¾æ„æˆçš„ã€‚ä½ å¯ä»¥è½»æ˜“çš„åˆ›å»ºè‡ªå®šä¹‰è§†å›¾åœ¨ Apple çš„å„ä¸ªå¹³å°ä¸­å…±äº«ä½¿ç”¨ï¼Œè¾¾åˆ°é‡ç”¨çš„ç›®çš„ã€‚</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">FeatureCard</span>: <span class="hljs-title">View</span> </span>&#123;</span><br><span class="line">   <span class="hljs-keyword">var</span> landmark: <span class="hljs-type">Landmark</span></span><br><span class="line">   </span><br><span class="line">   <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> &#123;</span><br><span class="line">      landmark.featureImage</span><br><span class="line">         .resizable()</span><br><span class="line">         .aspectRatio(<span class="hljs-number">3</span>/<span class="hljs-number">2</span>, contentMode: .fit)</span><br><span class="line">         .overlay(<span class="hljs-type">TextOverlay</span>(landmark))</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://docs-assets.developer.apple.com/published/743b153005/81e4df2d-ac30-46b8-af30-32d0c8f6934e.png" alt="reusable_component"></p>
<h3 id="ç®€æ´çš„åŠ¨ç”»ä½¿ç”¨"><a href="#ç®€æ´çš„åŠ¨ç”»ä½¿ç”¨" class="headerlink" title="ç®€æ´çš„åŠ¨ç”»ä½¿ç”¨"></a>ç®€æ´çš„åŠ¨ç”»ä½¿ç”¨</h3><p>åªéœ€è¦æ·»åŠ ä¸€ä¸ªç®€å•çš„æ–¹æ³•è°ƒç”¨å°±å¯ä»¥åˆ›å»ºå¹³æ»‘çš„åŠ¨ç”»ã€‚ SwiftUI ä¼šåœ¨éœ€è¦çš„æ—¶å€™è‡ªåŠ¨çš„è®¡ç®—å¹¶è®¾ç½®è¿‡åœºåŠ¨ç”»ã€‚</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-type">VStack</span> &#123;</span><br><span class="line">   <span class="hljs-type">Badge</span>()</span><br><span class="line">      .frame(width: <span class="hljs-number">300</span>, height: <span class="hljs-number">300</span>)</span><br><span class="line">      .animation(.basic())</span><br><span class="line">   <span class="hljs-type">Text</span>(name)</span><br><span class="line">      .font(.title)</span><br><span class="line">      .animation(<span class="hljs-type">Animation</span>.basic().delay(<span class="hljs-number">0.2</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://docs-assets.developer.apple.com/published/d5eb3eeeca/259ae6e6-f216-40d8-a0e6-a4b069bc473a.png" alt="simplify_animations"></p>
<h3 id="Xcode-ä¸­å®æ—¶é¢„è§ˆ"><a href="#Xcode-ä¸­å®æ—¶é¢„è§ˆ" class="headerlink" title="Xcode ä¸­å®æ—¶é¢„è§ˆ"></a>Xcode ä¸­å®æ—¶é¢„è§ˆ</h3><p>ä¸ç”¨è¿è¡Œåº”ç”¨å°±å¯ä»¥è®¾è®¡ï¼Œæ„å»ºå’Œæµ‹è¯•ä½ çš„åº”ç”¨ï¼Œé€šè¿‡äº’åŠ¨é¢„è§ˆå°±å¯ä»¥æµ‹è¯•æ§ä»¶ä»¥åŠå¸ƒå±€ã€‚</p>
<p><img src="https://docs-assets.developer.apple.com/published/4594e0fd78/916ea707-421e-481d-9418-380e39b7dab2.png" alt="live_preview"></p>
<p>çœ‹å®Œäº†ä¸Šè¿° SwiftUI çš„ç‰¹ç‚¹ï¼Œç°åœ¨è®©æˆ‘ä»¬æ·±å…¥äº†è§£ä¸‹å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</p>
<h2 id="ä»€ä¹ˆæ˜¯-View"><a href="#ä»€ä¹ˆæ˜¯-View" class="headerlink" title="ä»€ä¹ˆæ˜¯ View"></a>ä»€ä¹ˆæ˜¯ View</h2><p>åœ¨ SwiftUI ä¸­ï¼Œ<code>View</code> è·Ÿæˆ‘ä»¬ä¹‹å‰ç”¨åˆ°çš„ <code>UIView</code> å¤šå°‘æœ‰ç‚¹ç±»ä¼¼ï¼Œä½†æœ‰ä¸¤ä¸ªå¤§çš„ä¸åŒç‚¹æ˜¯ï¼š</p>
<ol>
<li><code>View</code> æ˜¯åè®®ç±»å‹ï¼Œä»£è¡¨äº†å±å¹•ä¸Šå…ƒç´ çš„æè¿°ã€‚ </li>
<li>åªèƒ½è¿”å›ä¸€ä¸ªéœ€è¦æ¸²æŸ“çš„è§†å›¾ã€‚è§†å›¾å¯ä»¥å†…éƒ¨åŒ…å«å…¶å®ƒå¤šä¸ªè§†å›¾ï¼Œä½†æ˜¯åªèƒ½è¿”å›å…¶çˆ¶è§†å›¾ã€‚</li>
</ol>
<p>SwiftUI ä½¿ç”¨çš„å…·ä½“å®ä¾‹ï¼š</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ContentView</span>: <span class="hljs-title">View</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> &#123;</span><br><span class="line">        <span class="hljs-type">Text</span>(<span class="hljs-string">"Hello World"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿè®¸ä½ ä¹Ÿæ³¨æ„åˆ°äº†ä¾‹å­ä¸­ <code>body</code> çš„è¿”å›å€¼ç±»å‹ <code>some View</code>, è®©æˆ‘ä»¬å…·ä½“çœ‹çœ‹ <code>View</code> åè®®çš„å®šä¹‰æ¥ç†è§£è¿™ä¹ˆåšçš„åŸå› ã€‚</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">View</span> : <span class="hljs-title">_View</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">associatedtype</span> <span class="hljs-type">Body</span> : <span class="hljs-type">View</span></span><br><span class="line">    <span class="hljs-keyword">var</span> body: <span class="hljs-type">Self</span>.<span class="hljs-type">Body</span> &#123; <span class="hljs-keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ç§å¸¦æœ‰ <code>Self</code> æˆ–è€… <code>associatedtype</code> çš„ protocol ä¸èƒ½ä½œä¸ºç±»å‹æ¥ä½¿ç”¨ï¼Œåªèƒ½ä½œä¸ºç±»å‹çº¦æŸæ¥ä½¿ç”¨ã€‚è¿™æ ·çš„è¯æˆ‘ä»¬å°±ä¸èƒ½è¿™æ ·å†™ï¼š</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ContentView</span>: <span class="hljs-title">View</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">var</span> body: <span class="hljs-type">View</span> &#123;</span><br><span class="line">        <span class="hljs-type">Text</span>(<span class="hljs-string">"Hello World"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è€Œåœ¨ Swift 5.1 æ–°å¢åŠ çš„ç‰¹æ€§ä¸­ï¼ŒOpaque Result Type ä¸º protocol ä½œä¸ºè¿”å›ç±»å‹æä¾›ä»¥ä¸‹èƒ½åŠ›ï¼š</p>
<ol>
<li>è¯­æ³•ä¸Šéšè—å…·ä½“å®ç°</li>
<li>å¼ºç±»å‹ï¼Œç±»å‹å‚æ•°ä¸ä¸¢å¤±</li>
<li>å…è®¸å¸¦æœ‰ <code>Self</code> æˆ–è€… <code>associatedtype</code> çš„ protocol ä½œä¸ºè¿”å›ç±»å‹</li>
</ol>
<p>åœ¨ Swift 5.1 ä¸­ï¼Œå°†è¿”å›ç±»å‹æ”¹æˆ <code>some protocol</code> çš„å½¢å¼, å®ƒå‘ç¼–è¯‘å™¨åšå‡ºä¿è¯ï¼Œæ¯æ¬¡ body å¾—åˆ°çš„ä¸€å®šæ˜¯æŸä¸€ä¸ªç¡®å®šçš„ï¼Œéµå®ˆ View åè®®çš„ç±»å‹ï¼Œè€Œç¼–è¯‘å™¨å¯ä»¥è‡ªå·±æ¨æ–­å‡ºå…·ä½“ç±»å‹ã€‚ åœ¨åè®®ä¹‹å‰åŠ ä¸Š some åï¼Œè¿”å›å€¼çš„ç±»å‹å°±å¯¹ç¼–è¯‘å™¨å°±å˜æˆé€æ˜çš„äº†ã€‚</p>
<p>è€Œä¸”ï¼Œç¼–è¯‘å™¨ä¼šæ£€æŸ¥è¿”å›ç±»å‹æ˜¯å¦ç¡®å®šå•ä¸€ï¼Œå› æ­¤ä¸‹é¢è¿™ç§æ–¹å¼ä¹Ÿæ˜¯ä¸è¡Œçš„ï¼š</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ContentView</span>: <span class="hljs-title">View</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">var</span> body: <span class="hljs-type">View</span> &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> somecondition &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-type">Text</span>(<span class="hljs-string">"Hello World"</span>)</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-type">Button</span>(action: &#123;&#125;) &#123;</span><br><span class="line">                <span class="hljs-type">Text</span>(<span class="hljs-string">"Tap me"</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="è§†å›¾å®¹å™¨"><a href="#è§†å›¾å®¹å™¨" class="headerlink" title="è§†å›¾å®¹å™¨"></a>è§†å›¾å®¹å™¨</h2><h3 id="VStack-HStack-ZStack"><a href="#VStack-HStack-ZStack" class="headerlink" title="VStack / HStack / ZStack"></a>VStack / HStack / ZStack</h3><p>å½“éœ€è¦æ¸²æŸ“å¤šä¸ªè§†å›¾æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¤šä¸ªè§†å›¾ç»„åˆåœ¨ <code>HStack</code>, <code>ZStack</code>ï¼Œ<code>ZStack</code> æˆ–è€… <code>Group</code> è¿™ç§è§†å›¾å®¹å™¨ä¸­ã€‚</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">HeaderView</span>: <span class="hljs-title">View</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">let</span> image: <span class="hljs-type">UIImage</span></span><br><span class="line">    <span class="hljs-keyword">let</span> title: <span class="hljs-type">String</span></span><br><span class="line">    <span class="hljs-keyword">let</span> subtitle: <span class="hljs-type">String</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> &#123;</span><br><span class="line">        <span class="hljs-type">VStack</span> &#123;</span><br><span class="line">            <span class="hljs-type">Image</span>(uiImage: image)</span><br><span class="line">            <span class="hljs-type">Text</span>(title)</span><br><span class="line">            <span class="hljs-type">Text</span>(subtitle)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œè°ƒç”¨äº† <code>VStack</code> çš„åˆå§‹åŒ–æ–¹æ³•ï¼š<br><figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">VStack</span>&lt;<span class="hljs-title">Content</span> : <span class="hljs-title">View</span>&gt; : <span class="hljs-title">View</span> </span>&#123; </span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">init</span>(</span><br><span class="line">        alignment: <span class="hljs-type">HorizontalAlignment</span> = .center, </span><br><span class="line">            spacing: <span class="hljs-type">Length?</span> = <span class="hljs-literal">nil</span>,</span><br><span class="line">            @<span class="hljs-type">ViewBuilder</span> content: () -&gt; <span class="hljs-type">Content</span></span><br><span class="line">      ) </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>åˆå§‹åŒ–æ–¹æ³•æ¥æ”¶ä¼ å…¥çš„ <code>alignment</code> å’Œ <code>spacing</code> å‚æ•°æ¥æ§åˆ¶å®¹å™¨å†…è§†å›¾çš„æ’åˆ—å’Œé—´è·ï¼ŒåŒæ—¶æ¥æ”¶ä¸€ä¸ªå°¾éšé—­åŒ… <code>() -&gt; Content</code> æ¥æ§åˆ¶å®¹å™¨è§†å›¾çš„å…·ä½“å†…å®¹ã€‚</p>
<p>ä½ å¯èƒ½ä¹Ÿæ³¨æ„åˆ°é—­åŒ…å‚æ•°æ˜¯ç”± <code>@ViewBuilder</code> ä¿®é¥°çš„ï¼Œè¿™é‡Œå°±éœ€è¦æä¸‹ Swift 5.1 çš„ <code>function builder</code> ç‰¹æ€§ã€‚</p>
<p><code>function builder</code> å…è®¸ä½¿ç”¨é—­åŒ…å®ç° Builder æ¨¡å¼ï¼Œé€šè¿‡å°†æ­¤é—­åŒ…ä¸­å®šä¹‰çš„è¡¨è¾¾å¼ä¼ é€’ç»™æ„å»ºå™¨ç±»å‹ï¼Œæä¾›ç±»ä¼¼ DSL çš„å¼€å‘ä½“éªŒã€‚è€Œå¦‚æœæ²¡æœ‰ <code>function builder</code> è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬å¿…é¡»æ‰‹åŠ¨åˆ›å»ºæ„å»ºå™¨ï¼Œä»¥ä¾¿æ„å»ºåƒ <code>VStack</code> è¿™æ ·çš„å®¹å™¨å®ä¾‹ï¼Œä¸ºæˆ‘ä»¬æä¾›çœ‹èµ·æ¥åƒè¿™æ ·çš„ä»£ç ï¼š</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">HeaderView</span>: <span class="hljs-title">View</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">let</span> image: <span class="hljs-type">UIImage</span></span><br><span class="line">    <span class="hljs-keyword">let</span> title: <span class="hljs-type">String</span></span><br><span class="line">    <span class="hljs-keyword">let</span> subtitle: <span class="hljs-type">String</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> &#123;</span><br><span class="line">        <span class="hljs-keyword">var</span> builder = <span class="hljs-type">VStackBuilder</span>()</span><br><span class="line">        builder.add(<span class="hljs-type">Image</span>(uiImage: image))</span><br><span class="line">        builder.add(<span class="hljs-type">Text</span>(title))</span><br><span class="line">        builder.add(<span class="hljs-type">Text</span>(subtitle))</span><br><span class="line">        <span class="hljs-keyword">return</span> builder.build()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆ <code>function builder</code> æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿè¿™ä¸€åˆ‡éƒ½å§‹äºæ–°çš„ <code>@functionBuilder</code> å±æ€§ï¼ˆæˆ–å½“å‰ç‰ˆæœ¬çš„ Xcode beta ä¸­çš„ <code>@_functionBuilder</code>ï¼Œå› ä¸ºæ­¤åŠŸèƒ½ä»è¢«è§†ä¸ºç§æœ‰å®ç°ï¼‰ - å®ƒå°†ç»™å®šç±»å‹æ ‡è®°ä¸ºæ„å»ºå™¨ã€‚</p>
<p>æ„å»ºå™¨å£°æ˜ <code>buildBlock</code> æ–¹æ³•çš„ä¸åŒé‡è½½ï¼Œä»¥ä¾¿ä¸ºåŒ…å«å„ç§è¡¨è¾¾å¼çš„é—­åŒ…æä¾›æ”¯æŒã€‚ä¾‹å¦‚ï¼Œè¿™é‡Œæ˜¯ SwiftUI è‡ªå·±çš„ <code>ViewBuilder</code> ç±»å‹çš„å®ç°ï¼Œå…¶ä¸­æœ‰å¾ˆå¤šæ¥å—ä¸åŒä¸ªæ•°å‚æ•°çš„ <code>buildBlock</code> æ–¹æ³•ï¼Œå®ƒä»¬å°†è´Ÿè´£å°†é—­åŒ…ä¸­ä¸€ä¸€åˆ—ä¸¾çš„ <code>Text</code> å’Œå…¶ä»–å¯èƒ½çš„ <code>View</code> è½¬æ¢ä¸ºä¸€ä¸ª <code>TupleView</code> å¹¶è¿”å›ã€‚</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">@functionBuilder</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ViewBuilder</span> </span>&#123;</span><br><span class="line">    <span class="hljs-comment">// Build a value from an empty closure, resulting in an</span></span><br><span class="line">    <span class="hljs-comment">// empty view in this case:</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">buildBlock</span><span class="hljs-params">()</span></span> -&gt; <span class="hljs-type">EmptyView</span> &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-type">EmptyView</span>()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// Build a single view from a closure that contains a single</span></span><br><span class="line">    <span class="hljs-comment">// view expression:</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">buildBlock</span>&lt;V: View&gt;<span class="hljs-params">(<span class="hljs-number">_</span> view: V)</span></span> -&gt; some <span class="hljs-type">View</span> &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> view</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// Build a combining TupleView from a closure that contains</span></span><br><span class="line">    <span class="hljs-comment">// two view expressions:</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">buildBlock</span>&lt;A: View, B: View&gt;<span class="hljs-params">(<span class="hljs-number">_</span> viewA: A, viewB: B)</span></span> -&gt; some <span class="hljs-type">View</span> &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-type">TupleView</span>((viewA, viewB))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// And so on, and so forth.</span></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ä¸Šé¢çš„æ„å»ºå™¨å¦‚ä½•æ˜¾å¼å¤„ç†æ¯ä¸ªé—­åŒ…å˜ä½“ï¼Œå› ä¸ºæˆ‘ä»¬å¯èƒ½åœ¨åŒä¸€ä¸ªé—­åŒ…ä¸­å¤„ç†ä¸åŒç§ç±»çš„ <code>View</code> å®ç°ã€‚å¦‚æœä¸æ˜¯è¿™æ ·ï¼Œ<code>ViewBuilder</code> å¯èƒ½ä¼šä½¿ç”¨ä¸€ä¸ªå¯å˜å‚æ•°æ¥å¤„ç†åŒ…å«å¤šä¸ªè¡¨è¾¾å¼çš„é—­åŒ…:</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@functionBuilder</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ViewBuilder</span> </span>&#123;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">buildBlock</span><span class="hljs-params">(<span class="hljs-number">_</span> views: View...)</span></span> -&gt; <span class="hljs-type">CombinedView</span> &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-type">CombinedView</span>(views: views)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç åªæ˜¯ä¸€ä¸ªä¾‹å­ï¼Œå®ƒç”šè‡³ä¸ä¼šç¼–è¯‘ï¼Œå› ä¸º <code>View</code> æœ‰ä¸€ä¸ªå…³è”ç±»å‹ã€‚</p>
<p>ä½¿ç”¨ä¸Šé¢çš„ <code>ViewBuilder</code> ç±»å‹ï¼Œç¼–è¯‘å™¨ç°åœ¨å°†åˆæˆä¸€ä¸ªä¸å…¶åç§°åŒ¹é…çš„å±æ€§ï¼ˆ<code>@ViewBuilder</code>ï¼‰ - ç„¶åæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥æ ‡è®°æˆ‘ä»¬å¸Œæœ›ä½¿ç”¨æ–°æ„å»ºå™¨çš„æ‰€æœ‰é—­åŒ…å‚æ•°ï¼š</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">VStack</span>&lt;<span class="hljs-title">Content</span>: <span class="hljs-title">View</span>&gt;: <span class="hljs-title">View</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">init</span>(@<span class="hljs-type">ViewBuilder</span> builder: () -&gt; <span class="hljs-type">Content</span>) &#123;</span><br><span class="line">        <span class="hljs-comment">// A function builder closure can be called just like</span></span><br><span class="line">        <span class="hljs-comment">// any other, and the resulting expression can then be</span></span><br><span class="line">        <span class="hljs-comment">// used to, for instance, construct a container view.</span></span><br><span class="line">        <span class="hljs-keyword">let</span> content = builder()</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é™¤äº†æŒ‰é¡ºåºæ¥å—å’Œæ„å»º <code>View</code> çš„ <code>buildBlock</code> ä»¥å¤–ï¼Œ<code>ViewBuilder</code> è¿˜å®ç°äº†ä¸¤ä¸ªç‰¹æ®Šçš„æ–¹æ³•ï¼š <code>buildEither</code> å’Œ <code>buildIf</code> ã€‚å®ƒä»¬åˆ†åˆ«å¯¹åº” block ä¸­çš„ <code>if...else...</code> è¯­æ³•å’Œ <code>if</code> çš„è¯­æ³•ã€‚</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">buildEither</span>&lt;TrueContent, FalseContent&gt;<span class="hljs-params">(first: TrueContent)</span></span> -&gt;</span><br><span class="line"> <span class="hljs-type">ConditionalContent</span>&lt;<span class="hljs-type">TrueContent</span>, <span class="hljs-type">FalseContent</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">buildEither</span>&lt;TrueContent, FalseContent&gt;<span class="hljs-params">(second: FalseContent)</span></span> -&gt; </span><br><span class="line"> <span class="hljs-type">ConditionalContent</span>&lt;<span class="hljs-type">TrueContent</span>, <span class="hljs-type">FalseContent</span>&gt;</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¯ä»¥åœ¨ <code>VStack</code> ä¸­è¿™æ ·å†™ï¼š<br><figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> someCondition: <span class="hljs-type">Bool</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-type">VStack</span>(alignment: .leading) &#123;</span><br><span class="line">    <span class="hljs-type">Text</span>(<span class="hljs-string">"Turtle Rock"</span>)</span><br><span class="line">        .font(.title)</span><br><span class="line">    <span class="hljs-type">Text</span>(<span class="hljs-string">"Joshua Tree National Park"</span>)</span><br><span class="line">        .font(.subheadline)</span><br><span class="line">    <span class="hljs-keyword">if</span> someCondition &#123;</span><br><span class="line">        <span class="hljs-type">Text</span>(<span class="hljs-string">"Condition"</span>)</span><br><span class="line">    &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">        <span class="hljs-type">Text</span>(<span class="hljs-string">"Not Condition"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å…¶ä»–çš„å‘½ä»¤å¼çš„ä»£ç åœ¨ <code>VStack</code> çš„ content é—­åŒ…é‡Œæ˜¯ä¸è¢«æ¥å—çš„ï¼Œä¸‹é¢è¿™æ ·ä¹Ÿä¸è¡Œï¼š</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-type">VStack</span>(alignment: .leading) &#123;</span><br><span class="line">    <span class="hljs-comment">// let è¯­å¥æ— æ³•é€šè¿‡ function builder åˆ›å»ºåˆé€‚çš„è¾“å‡º</span></span><br><span class="line">    <span class="hljs-keyword">let</span> someCondition = model.condition</span><br><span class="line">    <span class="hljs-keyword">if</span> someCondition &#123;</span><br><span class="line">        <span class="hljs-type">Text</span>(<span class="hljs-string">"Condition"</span>)</span><br><span class="line">    &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">        <span class="hljs-type">Text</span>(<span class="hljs-string">"Not Condition"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œåªæœ‰ä»¥ä¸‹ä¸‰ç§å†™æ³•èƒ½è¢«æ¥å—ï¼š</p>
<ul>
<li>ç»“æœä¸º <code>View</code> çš„è¯­å¥</li>
<li><code>if</code> è¯­å¥</li>
<li><code>if...else...</code> è¯­å¥</li>
</ul>
<h3 id="åˆ—è¡¨-List"><a href="#åˆ—è¡¨-List" class="headerlink" title="åˆ—è¡¨ List"></a>åˆ—è¡¨ List</h3><h4 id="é™æ€åˆ—è¡¨"><a href="#é™æ€åˆ—è¡¨" class="headerlink" title="é™æ€åˆ—è¡¨"></a>é™æ€åˆ—è¡¨</h4><figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> &#123;</span><br><span class="line">    <span class="hljs-type">List</span> &#123;</span><br><span class="line">        <span class="hljs-type">LandmarkRow</span>(landmark: [landmarkData[<span class="hljs-number">0</span>]])</span><br><span class="line">        <span class="hljs-type">LandmarkRow</span>(landmark: [landmarkData[<span class="hljs-number">1</span>]])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œçš„ <code>List</code> å’Œ <code>HStack</code> æˆ–è€… <code>VStack</code> ä¹‹ç±»çš„å®¹å™¨ç±»ä¼¼ï¼Œæ¥å—ä¸€ä¸ª view builder å¹¶é‡‡ç”¨ View DSL çš„æ–¹å¼åˆ—ä¸¾äº†ä¸¤ä¸ª <code>LandmarkRow</code>ã€‚ </p>
<h4 id="åŠ¨æ€åˆ—è¡¨"><a href="#åŠ¨æ€åˆ—è¡¨" class="headerlink" title="åŠ¨æ€åˆ—è¡¨"></a>åŠ¨æ€åˆ—è¡¨</h4><figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> &#123;</span><br><span class="line">    <span class="hljs-type">List</span>(landmarkData.identified(by: \.id)) &#123; landmark <span class="hljs-keyword">in</span> </span><br><span class="line">        <span class="hljs-type">LandmarkRow</span>(landmark: landmark)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>List</code> åŒæ ·ä¹Ÿå¯ä»¥æ¥å—åŠ¨æ€æ–¹å¼çš„è¾“å…¥ï¼Œè¿™æ—¶ä½¿ç”¨çš„åˆå§‹åŒ–æ–¹æ³•å’Œä¸Šé¢é™æ€çš„ä¸ä¸€æ ·ï¼š</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">List</span>&lt;<span class="hljs-title">Selection</span>, <span class="hljs-title">Content</span>&gt; <span class="hljs-title">where</span> <span class="hljs-title">Selection</span> : <span class="hljs-title">SelectionManager</span>, <span class="hljs-title">Content</span> : <span class="hljs-title">View</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">init</span>&lt;<span class="hljs-type">Data</span>, <span class="hljs-type">RowContent</span>&gt;(</span><br><span class="line">        <span class="hljs-number">_</span> data: <span class="hljs-type">Data</span>, action: @escaping (<span class="hljs-type">Data</span>.<span class="hljs-type">Element</span>.<span class="hljs-type">IdentifiedValue</span>) -&gt; <span class="hljs-type">Void</span>,</span><br><span class="line">        rowContent: @escaping (<span class="hljs-type">Data</span>.<span class="hljs-type">Element</span>.<span class="hljs-type">IdentifiedValue</span>) -&gt; <span class="hljs-type">RowContent</span>) </span><br><span class="line">    <span class="hljs-keyword">where</span> </span><br><span class="line">        <span class="hljs-type">Content</span> == <span class="hljs-type">ForEach</span>&lt;<span class="hljs-type">Data</span>, <span class="hljs-type">Button</span>&lt;<span class="hljs-type">HStack</span>&lt;<span class="hljs-type">RowContent</span>&gt;&gt;&gt;, </span><br><span class="line">        <span class="hljs-type">Data</span> : <span class="hljs-type">RandomAccessCollection</span>, </span><br><span class="line">        <span class="hljs-type">RowContent</span> : <span class="hljs-type">View</span>, </span><br><span class="line">        <span class="hljs-type">Data</span>.<span class="hljs-type">Element</span> : <span class="hljs-type">Identifiable</span></span><br><span class="line">        </span><br><span class="line">    <span class="hljs-comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åˆå§‹åŒ–æ–¹æ³•æ¥å—ä¸‰ä¸ªå‚æ•°ï¼š</p>
<ul>
<li><code>data</code> ç±»å‹è¦æ±‚ä¸ºï¼š<code>Data : RandomAccessCollection</code>ï¼Œå³è¦æ±‚å‚æ•°ç±»å‹ä¸º <code>Array</code></li>
<li><code>action</code> ç±»å‹ä¸ºæ¥æ”¶ <code>IdentifiedValue</code> ç±»å‹å‚æ•°çš„é—­åŒ…ï¼Œç”¨æ¥æŒ‡å®šåˆ—è¡¨é¡¹å¯¹åº”çš„ç‚¹å‡»æ—¶é—´ã€‚</li>
<li><code>rowContent</code> ç”¨æ¥æ¥å—æ§åˆ¶åˆ—è¡¨é¡¹å†…å®¹çš„é—­åŒ…ã€‚<code>rowContent</code> å…¶å®ä¹Ÿæ˜¯è¢« <code>@ViewBuilder</code> æ ‡è®°çš„ï¼Œå› æ­¤ä½ ä¹Ÿå¯ä»¥æŠŠ <code>LandmarkRow</code> çš„å†…å®¹å±•å¼€å†™è¿›å»ã€‚ä¸è¿‡ä¸€èˆ¬æˆ‘ä»¬ä¼šæ›´å¸Œæœ›å°½å¯èƒ½æ‹†å° UI éƒ¨ä»¶ï¼Œè€Œä¸æ˜¯æŠŠä¸œè¥¿å †åœ¨ä¸€èµ·ã€‚</li>
</ul>
<p>è€Œ <code>Data.Element : Identifiable</code> åˆ™æ˜¯è¦æ±‚ <code>Data.Element</code>(å³ <code>Array</code> ä¸­çš„å…ƒç´ ç±»å‹) ä¸­å­˜åœ¨ä¸€ä¸ªå¯ä»¥è¾¨åˆ«å‡ºæŸä¸ªå®ä¾‹çš„ä¸”æ»¡è¶³ <code>Hashable</code> çš„ idã€‚è¿™ä¸ª id å°†åœ¨æ•°æ®å˜æ›´æ—¶å¿«é€Ÿå®šä½åˆ°å˜åŒ–çš„æ•°æ®æ‰€å¯¹åº”çš„ cellï¼Œå¹¶è¿›è¡Œå±€éƒ¨çš„ UI åˆ·æ–°ã€‚</p>
<h5 id="åˆ é™¤åˆ—è¡¨é¡¹"><a href="#åˆ é™¤åˆ—è¡¨é¡¹" class="headerlink" title="åˆ é™¤åˆ—è¡¨é¡¹"></a>åˆ é™¤åˆ—è¡¨é¡¹</h5><p>SwiftUI å¯¹äºåˆ—è¡¨æ»‘åŠ¨åˆ é™¤æä¾›äº†å¾ˆç®€ä¾¿çš„æ¥å£ <code>onDelete(perform:)</code>, åŒæ—¶éœ€è¦ä¸€ä¸ªå…·æœ‰èƒ½æ¥å—è¦åˆ é™¤å¤šä¸ªç´¢å¼•å‚æ•°çš„æ–¹æ³•:</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">delete</span><span class="hljs-params">(at offsets: IndexSet)</span></span></span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªå‡½æ•°ä¸­ä½ å¯ä»¥å¾ªç¯éå†é›†åˆä¸­çš„æ¯ä¸ªç´¢å¼•ï¼Œæˆ–è€…åªè¯»å–ç¬¬ä¸€ä¸ªã€‚ç”±äº SwiftUI æ­£åœ¨è§‚å¯Ÿåˆ—è¡¨çš„çŠ¶æ€ï¼Œå› æ­¤ä½ æ‰€åšçš„ä»»ä½•æ›´æ”¹éƒ½å°†è‡ªåŠ¨åæ˜ åœ¨æ‚¨çš„UIä¸­ã€‚</p>
<p>ä»¥ä¸‹ä»£ç å°†åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸‰ä¸ªé¡¹ç›®åˆ—è¡¨çš„ <code>ContentView</code> ç»“æ„ï¼Œç„¶åé™„åŠ ä¸€ä¸ª <code>onDelete(perform:)</code> ç”¨äºåˆ é™¤åˆ—è¡¨ä¸­çš„ä»»ä½•é¡¹ç›®ï¼š</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ContentView</span> : <span class="hljs-title">View</span> </span>&#123;</span><br><span class="line">    @<span class="hljs-type">State</span> <span class="hljs-keyword">var</span> users = [<span class="hljs-string">"Paul"</span>, <span class="hljs-string">"Taylor"</span>, <span class="hljs-string">"Adele"</span>]</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> &#123;</span><br><span class="line">        <span class="hljs-type">NavigationView</span> &#123;</span><br><span class="line">            <span class="hljs-type">List</span> &#123;</span><br><span class="line">                <span class="hljs-type">ForEach</span>(users.identified(by: \.<span class="hljs-keyword">self</span>)) &#123; user <span class="hljs-keyword">in</span></span><br><span class="line">                    <span class="hljs-type">Text</span>(user)</span><br><span class="line">                &#125;</span><br><span class="line">                .onDelete(perform: delete)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">delete</span><span class="hljs-params">(at offsets: IndexSet)</span></span> &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> first = offsets.first &#123;</span><br><span class="line">            users.remove(at: first)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="ç§»åŠ¨åˆ—è¡¨é¡¹"><a href="#ç§»åŠ¨åˆ—è¡¨é¡¹" class="headerlink" title="ç§»åŠ¨åˆ—è¡¨é¡¹"></a>ç§»åŠ¨åˆ—è¡¨é¡¹</h5><p>åŒæ ·çš„æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ <code>onMove(perform:)</code> æ¥å¤„ç†åˆ—è¡¨é¡¹çš„ç§»åŠ¨ã€‚è€Œç§»åŠ¨çš„æ“ä½œéœ€è¦ä¸€ä¸ªèƒ½æ¥å—æº <code>IndexSet</code> å’Œ ç›®æ ‡ <code>Int</code> çš„å‚æ•°ã€‚</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">move</span><span class="hljs-params">(from source: IndexSet, to destination: Int)</span></span></span><br></pre></td></tr></table></figure>
<p>ç§»åŠ¨å¤šä¸ªé¡¹ç›®æ—¶ï¼Œæœ€å¥½å…ˆç§»åŠ¨åé¢çš„é¡¹ç›®ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…ç§»åŠ¨å…¶ä»–é¡¹ç›®ä¸”ç´¢å¼•æ··æ·†ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª <code>ContentView</code> ç»“æ„æ¥è®¾ç½®ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªç”¨æˆ·åå­—ç¬¦ä¸²çš„æ•°ç»„ï¼Œå¹¶è¦æ±‚SwiftUI è°ƒç”¨ <code>move()</code> æ–¹æ³•æ¥ç§»åŠ¨å®ƒä»¬ã€‚</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ContentView</span> : <span class="hljs-title">View</span> </span>&#123;</span><br><span class="line">    @<span class="hljs-type">State</span> <span class="hljs-keyword">var</span> users = [<span class="hljs-string">"Paul"</span>, <span class="hljs-string">"Taylor"</span>, <span class="hljs-string">"Adele"</span>]</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> &#123;</span><br><span class="line">        <span class="hljs-type">NavigationView</span> &#123;</span><br><span class="line">            <span class="hljs-type">List</span> &#123;</span><br><span class="line">                <span class="hljs-type">ForEach</span>(users.identified(by: \.<span class="hljs-keyword">self</span>)) &#123; user <span class="hljs-keyword">in</span></span><br><span class="line">                    <span class="hljs-type">Text</span>(user)</span><br><span class="line">                &#125;</span><br><span class="line">                .onMove(perform: move)</span><br><span class="line">            &#125;</span><br><span class="line">            .navigationBarItems(trailing: <span class="hljs-type">EditButton</span>())</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">move</span><span class="hljs-params">(from source: IndexSet, to destination: Int)</span></span> &#123;</span><br><span class="line">        <span class="hljs-comment">// sort the indexes low to high</span></span><br><span class="line">        <span class="hljs-keyword">let</span> reversedSource = source.sorted()</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// then loop from the back to avoid reordering problems</span></span><br><span class="line">        <span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> reversedSource.reversed() &#123; </span><br><span class="line">            <span class="hljs-comment">// for each item, remove it and insert it at the destination</span></span><br><span class="line">            users.insert(users.remove(at: index), at: destination)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="åˆ—è¡¨åˆ†ç»„"><a href="#åˆ—è¡¨åˆ†ç»„" class="headerlink" title="åˆ—è¡¨åˆ†ç»„"></a>åˆ—è¡¨åˆ†ç»„</h5><p>SwiftUI çš„åˆ—è¡¨è§†å›¾å†…ç½®äº† section å’Œ section header çš„æ”¯æŒï¼Œå°±åƒ UIKit ä¸­çš„<code>UITableView</code> ä¸€æ ·ã€‚è¦åœ¨æŸäº›å•å…ƒæ ¼å‘¨å›´æ·»åŠ ä¸€ä¸ª sectionï¼Œé¦–å…ˆåœ¨å…¶å‘¨å›´æ”¾ç½®ä¸€ä¸ª <code>Section</code>ï¼Œä¹Ÿå¯ä»¥æ·»åŠ  header å’Œ footerã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œè¿™é‡Œæœ‰ä¸ªç”¨äºåœ¨æé†’åº”ç”¨ä¸­æ˜¾ç¤ºä»»åŠ¡æ•°æ®çš„ Viewï¼š</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">TaskRow</span>: <span class="hljs-title">View</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> &#123;</span><br><span class="line">        <span class="hljs-type">Text</span>(<span class="hljs-string">"Task data goes here"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬è¦åšçš„æ˜¯åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸¤ä¸ªéƒ¨åˆ†çš„åˆ—è¡¨è§†å›¾ï¼šä¸€ä¸ªç”¨äºé‡è¦ä»»åŠ¡ï¼Œä¸€ä¸ªç”¨äºä¸å¤ªé‡è¦çš„ä»»åŠ¡ã€‚</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ContentView</span> : <span class="hljs-title">View</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> &#123;</span><br><span class="line">        <span class="hljs-type">List</span> &#123;</span><br><span class="line">            <span class="hljs-type">Section</span>(header: <span class="hljs-type">Text</span>(<span class="hljs-string">"Important tasks"</span>)) &#123;</span><br><span class="line">                <span class="hljs-type">TaskRow</span>()</span><br><span class="line">                <span class="hljs-type">TaskRow</span>()</span><br><span class="line">                <span class="hljs-type">TaskRow</span>()</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="hljs-type">Section</span>(header: <span class="hljs-type">Text</span>(<span class="hljs-string">"Other tasks"</span>)) &#123;</span><br><span class="line">                <span class="hljs-type">TaskRow</span>()</span><br><span class="line">                <span class="hljs-type">TaskRow</span>()</span><br><span class="line">                <span class="hljs-type">TaskRow</span>()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬åŒæ ·ä¹Ÿå¯ä»¥åƒè¿™æ ·ç»™ section æ·»åŠ  footerï¼š<br><figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-type">Section</span>(header: <span class="hljs-type">Text</span>(<span class="hljs-string">"Other tasks"</span>), footer: <span class="hljs-type">Text</span>(<span class="hljs-string">"End"</span>)) &#123;</span><br><span class="line">    <span class="hljs-type">TaskRow</span>()</span><br><span class="line">    <span class="hljs-type">TaskRow</span>()</span><br><span class="line">    <span class="hljs-type">TaskRow</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5 id="Group-æ ·å¼"><a href="#Group-æ ·å¼" class="headerlink" title="Group æ ·å¼"></a>Group æ ·å¼</h5><p>è·Ÿ <code>UITableView</code> ä¸€æ ·ï¼ŒSwiftUIçš„åˆ—è¡¨æ”¯æŒåˆ†ç»„ä»¥åŠç®€å•æ ·å¼ã€‚é»˜è®¤ä¸ºæ™®é€šæ ·å¼ï¼Œä½†å¦‚æœè¦æ›´æ”¹ä¸ºåˆ†ç»„ï¼Œåˆ™åº”åœ¨åˆ—è¡¨ä¸­ä½¿ç”¨ <code>.listStyle(.grouped)</code> ä¿®é¥°ç¬¦ã€‚</p>
<figure class="highlight swift hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ExampleRow</span>: <span class="hljs-title">View</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> &#123;</span><br><span class="line">        <span class="hljs-type">Text</span>(<span class="hljs-string">"Example Row"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ContentView</span> : <span class="hljs-title">View</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> &#123;</span><br><span class="line">        <span class="hljs-type">List</span> &#123;</span><br><span class="line">            <span class="hljs-type">Section</span>(header: <span class="hljs-type">Text</span>(<span class="hljs-string">"Examples"</span>)) &#123;</span><br><span class="line">                <span class="hljs-type">ExampleRow</span>()</span><br><span class="line">                <span class="hljs-type">ExampleRow</span>()</span><br><span class="line">                <span class="hljs-type">ExampleRow</span>()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.listStyle(.grouped)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šå°±æ˜¯å¯¹ SwiftUI ç®€å•çš„è®¤è¯†ï¼Œè¿˜æœ‰äº›åŠ¨æ€ç»‘å®šçš„æ€»ç»“ä¼šæ”¾åœ¨ä¸‹ä¸€ç¯‡ä¸­ã€‚</p>

        </div>
        
        
        
    </div>
</div>





<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/2019/08/06/swift-what-new-in-swift5/">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">Swift 5.1 æ–°ç‰¹æ€§</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/2019/06/19/swift-stl-attributes/">
                <span class="level-item">Swift æ ‡å‡†åº“ä¸­çš„ Attributes</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>


</div>
                
                
            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.svg" alt="å…³äº SwiftUI çš„åˆæ­¥è®¤è¯†" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2019 Phillip&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>


    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="å›åˆ°é¡¶ç«¯" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    <script src="/js/clipboard.js" defer></script>
    

    
    
    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'æ–‡ç« ',
                PAGES: 'é¡µé¢',
                CATEGORIES: 'åˆ†ç±»',
                TAGS: 'æ ‡ç­¾',
                UNTITLED: '(æ— æ ‡é¢˜)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>